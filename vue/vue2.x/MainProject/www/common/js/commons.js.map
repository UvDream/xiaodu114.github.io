{"version":3,"sources":["webpack://vue2x-main-project/src/component/common/float-menu/single-stage/src/main.vue","webpack://vue2x-main-project/./src/component/common/float-menu/single-stage/index.js","webpack://vue2x-main-project/./src/component/common/float-menu/single-stage/src/main.vue?feb7","webpack://vue2x-main-project/./src/component/common/float-menu/single-stage/src/main.vue?3c41","webpack://vue2x-main-project/./src/component/common/float-menu/single-stage/src/main.vue?6401","webpack://vue2x-main-project/./src/component/common/float-menu/single-stage/src/main.vue?3ffb","webpack://vue2x-main-project/./node_modules/vue-loader/lib/runtime/componentNormalizer.js"],"names":["SingleStageFloatMenu","Vue","component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BADA;AAEA;AACA;AACA,iBADA;AAAA,qCAEA;AACA;AACA;AAJA,KADA;AAOA;AACA,kBADA;AAEA;AAFA,KAPA;AAWA;AACA,kBADA;AAAA,qCAEA;AACA;AACA,oBADA;AAEA,mBAFA;AAGA;AAHA;AAKA;AARA,KAXA;AAqBA;AACA,iBADA;AAAA,qCAEA;AACA;AACA;AAJA;AArBA,GAFA;AA8BA,MA9BA,kBA8BA;AACA;AACA;AADA;AAGA,GAlCA;AAmCA;AACA,eADA,uBACA,IADA,EACA,KADA,EACA;AACA;AACA,KAHA;AAIA,gBAJA,0BAIA;AAAA;;AACA,8BACA,4BADA,EAEA,uCAFA,EAGA,4BAHA,EAIA,uCAJA,EAKA,uCALA;AAOA,+BACA,6BADA,EAEA,wCAFA,EAGA,6BAHA,EAIA,wCAJA,EAKA,wCALA;AAOA;AAAA,UACA,mDADA;AAEA;AAAA,UACA,qDADA;AAGA;AACA;AACA;AACA,4CADA;AAEA;AAFA,WADA;AAKA;AACA;AACA,6DADA;AAEA;AAFA;AAIA,WAVA;AAWA;AACA;AACA,6DADA;AAEA;AAFA;AAIA;AAhBA,SADA;AAmBA;AACA;AACA,4CADA;AAEA;AAFA,WADA;AAKA;AACA;AACA,6DADA;AAEA;AAFA;AAIA,WAVA;AAWA;AACA;AACA,6DADA;AAEA;AAFA;AAIA;AAhBA,SAnBA;AAqCA;AACA;AACA,iCADA;AAEA;AAFA,WADA;AAKA;AACA;AACA,yEADA;AAEA;AAFA;AAIA,WAVA;AAWA;AACA;AACA,yEADA;AAEA;AAFA;AAIA;AAhBA,SArCA;AAuDA;AACA;AACA,iCADA;AAEA;AAFA,WADA;AAKA;AACA;AACA,yEADA;AAEA;AAFA;AAIA,WAVA;AAWA;AACA;AACA,yEADA;AAEA;AAFA;AAIA;AAhBA;AAvDA;AA0EA,2BA9FA,CA+FA;;AACA;AACA;;AACA,YACA,+BACA,0DADA,IAEA,4DAHA,EAIA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA,gBACA,gCACA,wDAFA,EAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AA9HA,GAnCA;AAmKA,SAnKA,qBAmKA;AACA;AACA;AArKA,G;;;;;;;;;;;;;;;;ACjCA;AACA;;AAEAA,0DAAA,GAA+B,UAAUC,GAAV,EAAe;AAC1CA,KAAG,CAACC,SAAJ,CAAcF,uDAAd,EAAyCA,kDAAzC;AACH,CAFD;;AAIA,iEAAeA,kDAAf,E;;;;;;;;;;;;ACPA;;;;;;;;;;;;;;;;;;;;ACAmF;AAC3B;AACL;AACnD,CAAiE;;;AAGjE;AACsG;AACtG,gBAAgB,oGAAU;AAC1B,EAAE,uEAAM;AACR,EAAE,4EAAM;AACR,EAAE,qFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACA,iEAAe,iB;;;;;;;;;;;;;;;;ACvC8M,CAAC,iEAAe,oMAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAjP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iEAAiE;AACtE;AACA,uBAAuB,aAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC9BA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"common/js/commons.js","sourcesContent":["<template>\r\n  <ul\r\n    class=\"single-stage-float-menu\"\r\n    :style=\"extendStyle\"\r\n  >\r\n    <li\r\n      v-for=\"(item,index) in showItems\"\r\n      :key=\"index\"\r\n    >\r\n      <div v-if=\"item.type==='divider'\">我是分割线</div>\r\n      <div\r\n        v-else-if=\"item.type==='item'\"\r\n        @click=\"itemClickFn(item,$event)\"\r\n      >{{item.text}}</div>\r\n    </li>\r\n  </ul>\r\n</template>\r\n<script>\r\n/**\r\n *  【介绍】\r\n *      单级悬浮菜单。\r\n *      未实现的功能：\r\n *          1、支持不同的类型（例如分割线）\r\n *          2、支持图标\r\n *          3、支持滚动条/移动\r\n *  【参考】\r\n *      1、整体参考 http://demo.jb51.net/js/2017/jQuery_sbyjdjcd/\r\n *      2、本组件中的获取docment的高度和宽度参考$(document).height()和$(document).width()\r\n *  【注意点】\r\n *      1、getBoundingClientRect getClientRects clientWidth offsetWidth scrollWidth 这几个概念的不同\r\n *          1.1、https://www.cnblogs.com/TAO-JL/p/9575430.html\r\n *          1.2、https://blog.csdn.net/shmjiao/article/details/89018687\r\n */\r\nexport default {\r\n  name: \"SingleStageFloatMenu\",\r\n  props: {\r\n    showItems: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    eventname: {\r\n      type: String,\r\n      default: \"item-click\"\r\n    },\r\n    pos: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          margin: 10,\r\n          pageX: 10,\r\n          pageY: 10\r\n        };\r\n      }\r\n    },\r\n    priority: {\r\n      type: Array,\r\n      default() {\r\n        return [\"RightBottom\", \"RightTop\", \"LeftTop\", \"LeftBottom\"];\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      extendStyle: null\r\n    };\r\n  },\r\n  methods: {\r\n    itemClickFn(item, event) {\r\n      this.$emit(this.eventname, item, event);\r\n    },\r\n    calculatePos() {\r\n      var winWidth = Math.max(\r\n        document.body[\"scrollWidth\"],\r\n        document.documentElement[\"scrollWidth\"],\r\n        document.body[\"offsetWidth\"],\r\n        document.documentElement[\"offsetWidth\"],\r\n        document.documentElement[\"clientWidth\"]\r\n      );\r\n      var winHeight = Math.max(\r\n        document.body[\"scrollHeight\"],\r\n        document.documentElement[\"scrollHeight\"],\r\n        document.body[\"offsetHeight\"],\r\n        document.documentElement[\"offsetHeight\"],\r\n        document.documentElement[\"clientHeight\"]\r\n      );\r\n      var menuWidth = this.$el.offsetWidth,\r\n        securityMenuWidth = menuWidth + 2 * this.pos.margin;\r\n      var menuHeight = this.$el.offsetHeight,\r\n        securityMenuHeight = menuHeight + 2 * this.pos.margin;\r\n\r\n      var posInitConfig = {\r\n        RightBottom: {\r\n          area: {\r\n            width: winWidth - this.pos.pageX,\r\n            height: winHeight - this.pos.pageY\r\n          },\r\n          getPos1: () => {\r\n            return {\r\n              left: this.pos.pageX + this.pos.margin + \"px\",\r\n              top: this.pos.pageY + this.pos.margin + \"px\"\r\n            };\r\n          },\r\n          getPos2: () => {\r\n            return {\r\n              left: this.pos.pageX + this.pos.margin + \"px\",\r\n              top: winHeight - securityMenuHeight + \"px\"\r\n            };\r\n          }\r\n        },\r\n        RightTop: {\r\n          area: {\r\n            width: winWidth - this.pos.pageX,\r\n            height: this.pos.pageY\r\n          },\r\n          getPos1: () => {\r\n            return {\r\n              left: this.pos.pageX + this.pos.margin + \"px\",\r\n              top: this.pos.pageY - menuHeight - this.pos.margin + \"px\"\r\n            };\r\n          },\r\n          getPos2: () => {\r\n            return {\r\n              left: this.pos.pageX + this.pos.margin + \"px\",\r\n              top: this.pos.margin + \"px\"\r\n            };\r\n          }\r\n        },\r\n        LeftTop: {\r\n          area: {\r\n            width: this.pos.pageX,\r\n            height: this.pos.pageY\r\n          },\r\n          getPos1: () => {\r\n            return {\r\n              left: this.pos.pageX - menuWidth - this.pos.margin + \"px\",\r\n              top: this.pos.pageY - menuHeight - this.pos.margin + \"px\"\r\n            };\r\n          },\r\n          getPos2: () => {\r\n            return {\r\n              left: this.pos.pageX - menuWidth - this.pos.margin + \"px\",\r\n              top: this.pos.margin + \"px\"\r\n            };\r\n          }\r\n        },\r\n        LeftBottom: {\r\n          area: {\r\n            width: this.pos.pageX,\r\n            height: winHeight - this.pos.pageY\r\n          },\r\n          getPos1: () => {\r\n            return {\r\n              left: this.pos.pageX - menuWidth - this.pos.margin + \"px\",\r\n              top: this.pos.pageY + this.pos.margin + \"px\"\r\n            };\r\n          },\r\n          getPos2: () => {\r\n            return {\r\n              left: this.pos.pageX - menuWidth - this.pos.margin + \"px\",\r\n              top: winHeight - securityMenuHeight + \"px\"\r\n            };\r\n          }\r\n        }\r\n      };\r\n      var retPosObj = null;\r\n      //\r\n      for (let index = 0; index < this.priority.length; index++) {\r\n        const tempPosition = this.priority[index];\r\n        if (\r\n          posInitConfig[tempPosition] &&\r\n          posInitConfig[tempPosition].area.width > securityMenuWidth &&\r\n          posInitConfig[tempPosition].area.height > securityMenuHeight\r\n        ) {\r\n          retPosObj = posInitConfig[tempPosition].getPos1();\r\n          break;\r\n        }\r\n      }\r\n      if (retPosObj === null) {\r\n        if (winHeight > securityMenuHeight) {\r\n          for (let index = 0; index < this.priority.length; index++) {\r\n            const tempPosition = this.priority[index];\r\n            if (\r\n              posInitConfig[tempPosition] &&\r\n              2 * posInitConfig[tempPosition].area.height > winHeight\r\n            ) {\r\n              retPosObj = posInitConfig[tempPosition].getPos2();\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return retPosObj;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.extendStyle = this.calculatePos();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.single-stage-float-menu {\r\n  position: fixed;\r\n  width: 150px;\r\n  margin: 0;\r\n  padding: 0;\r\n  background: #ffffff;\r\n  list-style: none;\r\n  box-shadow: 0 15px 35px rgba(50, 50, 90, 0.1), 0 5px 15px rgba(0, 0, 0, 0.07);\r\n  overflow: hidden;\r\n  z-index: 999999;\r\n  > li {\r\n    transition: ease 0.2s;\r\n    > div {\r\n      padding: 10px;\r\n      color: #5e5e5e;\r\n      transition: ease 0.2s;\r\n      font-size: 14px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    &:hover {\r\n      background: #c5c5c5;\r\n      > div {\r\n        color: #2b2b2b;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","// 参考element-ui的使用方式\r\nimport SingleStageFloatMenu from './src/main.vue';\r\n\r\nSingleStageFloatMenu.install = function (Vue) {\r\n    Vue.component(SingleStageFloatMenu.name, SingleStageFloatMenu);\r\n};\r\n\r\nexport default SingleStageFloatMenu;","// extracted by mini-css-extract-plugin\nexport {};","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=357a7404&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\Visual Studio Code\\\\vue\\\\MainProjectVersions\\\\MainProject\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('357a7404')) {\n      api.createRecord('357a7404', component.options)\n    } else {\n      api.reload('357a7404', component.options)\n    }\n    module.hot.accept(\"./main.vue?vue&type=template&id=357a7404&\", function () {\n      api.rerender('357a7404', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/component/common/float-menu/single-stage/src/main.vue\"\nexport default component.exports","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-4[0].rules[0].use!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-4[0].rules[0].use!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"ul\",\n    { staticClass: \"single-stage-float-menu\", style: _vm.extendStyle },\n    _vm._l(_vm.showItems, function(item, index) {\n      return _c(\"li\", { key: index }, [\n        item.type === \"divider\"\n          ? _c(\"div\", [_vm._v(\"我是分割线\")])\n          : item.type === \"item\"\n          ? _c(\n              \"div\",\n              {\n                on: {\n                  click: function($event) {\n                    return _vm.itemClickFn(item, $event)\n                  }\n                }\n              },\n              [_vm._v(_vm._s(item.text))]\n            )\n          : _vm._e()\n      ])\n    }),\n    0\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n"],"sourceRoot":""}